{% load static %}
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸŒ á»¨ng dá»¥ng dá»‹ch ngÃ´n ngá»¯</title>
  <link rel="stylesheet" href="{% static 'translate_app/style.css' %}" />
  <link rel="stylesheet" href="{% static 'translate_app/home.css' %}" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    window.CSRF_TOKEN = "{{ csrf_token }}";
  </script>
  <script src="{% static 'translate_app/home.js' %}" defer></script>
</head>

<body class="light-mode">
<header class="main-header">
    <div class="header-content">
        <h1>ğŸŒ á»¨NG Dá»¤NG Dá»ŠCH NGÃ”N NGá»®</h1>
        <p>Dá»‹ch vÄƒn báº£n nhanh chÃ³ng â€“ Giao diá»‡n quá»‘c táº¿.</p>
    </div>

    <div class="header-actions">
        <button onclick="toggleTheme()" class="btn-icon header-btn">
            ğŸŒ“ Theme
        </button>
        
        <span id="userDisplay" class="user-greeting">
            KhÃ¡ch
        </span>

        <button onclick="logout()" class="btn-logout header-btn">
            ğŸšª ÄÄƒng xuáº¥t
        </button>
    </div>
</header>

  <main class="translator-box fade-in">
    <textarea id="inputText" placeholder="Nháº­p vÄƒn báº£n cáº§n dá»‹ch..."></textarea>

  <div class="lang-row">
      <div class="lang-selector-wrapper">
          <input type="hidden" id="fromLang" value="auto">
          
          <div class="custom-select-trigger" onclick="toggleDropdown('sourceDropdown')">
              <span id="selectedSourceLang">Tiáº¿ng Viá»‡t</span>
              <i class="arrow-down">â–¼</i>
          </div>

          <div id="sourceDropdown" class="custom-options-container">
              <div class="search-box">
                  <input type="text" placeholder="ğŸ” TÃ¬m ngÃ´n ngá»¯ nguá»“n..." 
                        onkeyup="filterLanguages(this.value, 'sourceList')">
              </div>
              <ul id="sourceList" class="options-grid">
                  </ul>
          </div>
      </div>

      <button class="swap-btn" onclick="swapLangs()">â‡„</button>

      <div class="lang-selector-wrapper">
          <input type="hidden" id="toLang" value="vi">

          <div class="custom-select-trigger" onclick="toggleDropdown('targetDropdown')">
              <span id="selectedTargetLang">Tiáº¿ng Viá»‡t</span>
              <i class="arrow-down">â–¼</i>
          </div>

          <div id="targetDropdown" class="custom-options-container align-right">
              <div class="search-box">
                  <input type="text" placeholder="ğŸ” TÃ¬m ngÃ´n ngá»¯ Ä‘Ã­ch..." 
                        onkeyup="filterLanguages(this.value, 'targetList')">
              </div>
              <ul id="targetList" class="options-grid">
                  </ul>
          </div>
      </div>
  </div>
    <button class="btn-translate" onclick="translateText()">ğŸŒ Dá»‹ch ngay</button>
    <div id="output" class="output-box"></div>

    <div class="btn-row">
      <button onclick="copyText()">ğŸ“‹ Copy</button>
      <button onclick="speakText()">ğŸ”Š Nghe</button>
      <button onclick="clearAll()">ğŸ§¹ XÃ³a</button>
    </div>

    <a href="{% url 'file_page' %}" class="link-secondary">
      ğŸ“„ Sang trang dá»‹ch file (PDF / Word / áº¢nh)
    </a>
  </main>

  <section class="history-section">
    <h2>ğŸ•“ Lá»‹ch sá»­ dá»‹ch</h2>
    <ul id="historyList" class="history-list"></ul>
  </section>

  <footer>
    Â© 2025 - NhÃ³m 13 | á»¨ng dá»¥ng dá»‹ch ngÃ´n ngá»¯ | MÃ´n Láº­p trÃ¬nh Web
  </footer>

  <script src="script.js"></script>
</body>
</html>
