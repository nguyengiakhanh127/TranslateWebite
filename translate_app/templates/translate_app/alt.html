{% load static %}

<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D·ªãch T·∫≠p Tin - PDF & ·∫¢nh</title>
    
    <link rel="stylesheet" href="{% static 'translate_app/style.css' %}" />
    <link rel="stylesheet" href="{% static 'translate_app/alt.css' %}" />
    
    <style>
        .output-box:empty::before {
            content: attr(data-placeholder);
            color: #888;
            font-style: italic;
        }
    </style>

    <script>
        window.CSRF_TOKEN = "{{ csrf_token }}";
    </script>
    
    <script src="{% static 'translate_app/alt.js' %}" defer></script>
</head>
<body class="light-mode">
    
<header class="main-header">
    <div class="header-content">
        <h1>üåç ·ª®NG D·ª§NG D·ªäCH NG√îN NG·ªÆ</h1>
        <p>D·ªãch vƒÉn b·∫£n nhanh ch√≥ng ‚Äì Giao di·ªán qu·ªëc t·∫ø.</p>
    </div>

    <div class="header-actions">
        <button onclick="toggleTheme()" class="btn-icon header-btn">
            üåì Theme
        </button>
        
        <span id="userDisplay" class="user-greeting">
            Kh√°ch
        </span>

        <button onclick="logout()" class="btn-logout header-btn">
            üö™ ƒêƒÉng xu·∫•t
        </button>
    </div>
</header>

    <main class="translator-box fade-in">
        
        <div class="lang-row">
            <div class="lang-selector-wrapper">
                <input type="hidden" id="fromLang" value="en">
                <div class="custom-select-trigger" onclick="toggleDropdown('sourceDropdown')">
                    <span id="selectedSourceLang">Ti·∫øng Anh</span>
                    <i class="arrow-down">‚ñº</i>
                </div>
                <div id="sourceDropdown" class="custom-options-container">
                    <div class="search-box">
                        <input type="text" placeholder="üîç T√¨m ng√¥n ng·ªØ..." onkeyup="filterLanguages(this.value, 'sourceList')">
                    </div>
                    <ul id="sourceList" class="options-grid"></ul>
                </div>
            </div>

            <button class="swap-btn" onclick="swapLangs()">‚áÑ</button>

            <div class="lang-selector-wrapper">
                <input type="hidden" id="toLang" value="vi">
                <div class="custom-select-trigger" onclick="toggleDropdown('targetDropdown')">
                    <span id="selectedTargetLang">Ti·∫øng Vi·ªát</span>
                    <i class="arrow-down">‚ñº</i>
                </div>
                <div id="targetDropdown" class="custom-options-container align-right">
                    <div class="search-box">
                        <input type="text" placeholder="üîç T√¨m ng√¥n ng·ªØ..." onkeyup="filterLanguages(this.value, 'targetList')">
                    </div>
                    <ul id="targetList" class="options-grid"></ul>
                </div>
            </div>
        </div>

        <div class="file-upload-wrapper">
            <label for="fileInput" class="file-drop-zone">
            </label>
            <input type="file" id="fileInput" accept="image/*, .pdf" onchange="handleFileSelect()">
            
            <div id="fileNameDisplay" style="margin-top: 10px; color: #1a73e8; font-weight: bold;"></div>
        </div>

        <button class="btn-translate" onclick="translateFile()">üöÄ Tr√≠ch xu·∫•t & D·ªãch</button>

        <div id="output" class="output-box" data-placeholder="K·∫øt qu·∫£ d·ªãch s·∫Ω hi·ªán ·ªü ƒë√¢y..."></div>

        <div class="btn-row">
            <button onclick="downloadResult()">üíæ Download</button>
            <button onclick="copyText()">üìã Copy</button>
            <button onclick="speakText()">üîä Nghe</button>
        </div>

        <a href="{% url 'home_page' %}" class="link-secondary">
            ‚¨ÖÔ∏è Quay l·∫°i D·ªãch VƒÉn B·∫£n
        </a>
    </main>

    <footer>
        ¬© 2025 - Nh√≥m 13 | ·ª®ng d·ª•ng d·ªãch ng√¥n ng·ªØ | M√¥n L·∫≠p tr√¨nh Web
    </footer>

    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>